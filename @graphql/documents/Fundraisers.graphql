fragment Contributor on Contributor {
  address
  status
  amount
  contributions {
    timestamp
    type
    amount
  }
}

fragment FundraiserContributors on Fundraiser {
  contributors {
    ...Contributor
  }
}

fragment FundraiserInfo on Fundraiser {
  id
  label
  owner
  address
  startDate
  endDate
  softCap
  hardCap
  supply
  tokenPrice
  contributionsLocked

  amountQualified
  amountPending
  amountRefunded
  amountWithdrawn
  status
  numContributors
}

fragment FundraiserToken on Fundraiser {
  token {
    ...TokenInfo
  }
}

fragment FundraiserContracts on Fundraiser {
  affiliateManager
  contributorRestrictions
  minter
}

fragment FundraiserBaseCurrency on Fundraiser {
  baseCurrency {
    address
    name
    symbol
    decimals
  }
}

fragment Fundraiser on Fundraiser {
  ...FundraiserInfo
  ...FundraiserBaseCurrency
  ...FundraiserToken
}

fragment FundraiserWithContributors on Fundraiser {
  ...Fundraiser
  ...FundraiserContributors
}

query Fundraisers($owner: Bytes!) {
  fundraisers(where: { owner: $owner }) {
    ...FundraiserWithContributors
  }
}

query Fundraiser($id: ID!, $address: Bytes!) {
  fundraiser(id: $id) {
    ...Fundraiser
    contributors(where: { address: $address }) {
      ...Contributor
    }
  }
}

query FundraiserWithContributors($id: ID!) {
  fundraiser(id: $id) {
    ...Fundraiser
    ...FundraiserContributors
  }
}
